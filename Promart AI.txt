Promart AI
1. üéØ Misi√≥n del Sistema (El Objetivo Final)
El objetivo es crear un Asistente de Compra Experto que analice el input de lenguaje natural del usuario y lo cruce con datos din√°micos extra√≠dos de Promart Homecenter para entregar una √∫nica recomendaci√≥n de producto altamente fundamentada y precisa.

2. ‚öôÔ∏è Reglas de Arquitectura y Tecnolog√≠a
El sistema debe operar siguiendo estas dependencias obligatorias:

2.1 M√≥dulo de Adquisici√≥n de Datos (El Scraper)
Herramienta de Ejecuci√≥n: Debe simular un navegador real (Python + Playwright/Selenium).

Comportamiento de B√∫squeda: El m√≥dulo debe tomar el texto de la solicitud del usuario y transformarlo en una URL de b√∫squeda v√°lida para Promart (ej: /search?q=...).

Manejo de Dinamismo: Debe esperar a que el contenido cargado por JavaScript (t√≠tulos, precios) sea visible antes de intentar la extracci√≥n.

Anti-Bloqueo: Debe implementar pausas aleatorias y rotaci√≥n de User Agents para mitigar bloqueos de Promart.

Alcance: Recolectar datos solo de los primeros 20 resultados para optimizar la velocidad y la ventana de contexto de la IA.

2.2 Formato de Datos (JSON Estricto)
El output del scraper debe ser un array de objetos JSON limpios y estructurados.

Campos Obligatorios:

id (SKU o ID √∫nico)

nombre (T√≠tulo completo del producto)

precio_actual (Solo valor num√©rico)

link_producto (URL completa del producto)

detalles_clave (Texto conciso de especificaciones t√©cnicas o ventajas)

2.3 M√≥dulo de Inteligencia (El Motor Gemini)
Motor Base: Google Gemini 1.5 Flash (elegido por su gran ventana de contexto y eficiencia de costos).

Funci√≥n: La √∫nica funci√≥n del m√≥dulo es analizar y razonar, utilizando √∫nicamente el JSON de contexto proporcionado por el scraper.

3. üìù Protocolo de Operaci√≥n (El Flujo)
Cada interacci√≥n con el usuario debe seguir este ciclo estricto:

Recepci√≥n: El sistema recibe la solicitud del usuario (ej: "taladro para principiantes, max S/150").

Traducci√≥n a Query: El sistema extrae los t√©rminos de b√∫squeda m√°s relevantes (ej: "taladro principiantes").

Extracci√≥n (Scraping): El M√≥dulo de Adquisici√≥n se ejecuta con la query, navega a Promart, y devuelve el JSON de los productos relevantes (M√°x 20).

Inyecci√≥n de Contexto: El JSON de productos y la solicitud original del usuario se inyectan en el prompt del Motor Gemini.

An√°lisis y Decisi√≥n: El Motor Gemini aplica su rol experto para comparar los productos en el JSON y selecciona el mejor candidato.

Entrega: El sistema frontend presenta la respuesta de la IA en el formato final definido.

4. üß† Comportamiento y Rol del Motor Gemini
4.1. Rol de Sistema (System Prompt Interno)
Eres un Especialista Imparcial y Riguroso en productos de ferreter√≠a y hogar de la tienda Promart. Tu conocimiento se limita estrictamente a la lista JSON de productos que te proporciono. Tu misi√≥n es tomar la mejor decisi√≥n de compra para el usuario, priorizando primero la funci√≥n (¬øsirve para lo que necesita?) y luego el presupuesto.

4.2. Reglas de Razonamiento
No Alucinaci√≥n: Nunca inventes precios, nombres o enlaces. Si la informaci√≥n no est√° en el JSON, no existe.

Justificaci√≥n Transparente: La recomendaci√≥n debe explicar expl√≠citamente qu√© campos del JSON (precio, detalles) influyeron en la decisi√≥n.

Manejo de Limitaciones: Si el JSON no tiene un producto adecuado (ej: el usuario pide algo profesional, pero solo hay opciones dom√©sticas), debes comunicarlo claramente antes de dar la mejor opci√≥n disponible.

5. üñ•Ô∏è Formato de Salida Final (Frontend)
La respuesta final que se muestra al usuario debe ser estructurada para m√°xima claridad y confianza.
Elemento	Requerimiento
T√≠tulo	La mejor opci√≥n para ti es: [Nombre del Producto]
Puntuaci√≥n	[Una valoraci√≥n de 1 a 5 estrellas basada en la adecuaci√≥n a la necesidad, no en las rese√±as de Promart]
An√°lisis	Una explicaci√≥n de 2-3 p√°rrafos detallando el por qu√© es la mejor opci√≥n.
Precio y Enlace	Presentaci√≥n clara del precio actual y un bot√≥n de enlace directo al producto en Promart.